{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Carousel from\"./Carousel\";import GetAllCategories from\"../productComponent/GetAllCategories\";import ProductCard from\"../productComponent/ProductCard\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomePage=function HomePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useParams=useParams(),categoryId=_useParams.categoryId;useEffect(function(){var getAllProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var allProducts;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return retrieveAllProducts();case 2:allProducts=_context.sent;if(allProducts){setProducts(allProducts);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getAllProducts(){return _ref.apply(this,arguments);};}();var getProductsByCategory=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var allProducts;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return retrieveProductsByCategory();case 2:allProducts=_context2.sent;if(allProducts){setProducts(allProducts);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getProductsByCategory(){return _ref2.apply(this,arguments);};}();if(categoryId==null){console.log(\"Category Id is null\");getAllProducts();}else{console.log(\"Category Id is NOT null\");getProductsByCategory();}},[categoryId]);var retrieveAllProducts=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(\"http://localhost:8080/api/product/all\");case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function retrieveAllProducts(){return _ref3.apply(this,arguments);};}();var retrieveProductsByCategory=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(\"http://localhost:8080/api/product/category?categoryId=\"+categoryId);case 2:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function retrieveProductsByCategory(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mb-2\",children:[/*#__PURE__*/_jsx(Carousel,{}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(GetAllCategories,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-md-4 g-4\",children:products.map(function(product){return/*#__PURE__*/_jsx(ProductCard,{item:product});})})})]})})]});};export default HomePage;","map":{"version":3,"names":["Carousel","GetAllCategories","ProductCard","axios","useState","useEffect","useParams","HomePage","products","setProducts","categoryId","getAllProducts","retrieveAllProducts","allProducts","getProductsByCategory","retrieveProductsByCategory","console","log","get","response","data","map","product"],"sources":["C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/src/pages/HomePage.jsx"],"sourcesContent":["import Carousel from \"./Carousel\";\r\nimport GetAllCategories from \"../productComponent/GetAllCategories\";\r\nimport ProductCard from \"../productComponent/ProductCard\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst HomePage = () => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const { categoryId } = useParams();\r\n\r\n  useEffect(() => {\r\n    const getAllProducts = async () => {\r\n      const allProducts = await retrieveAllProducts();\r\n      if (allProducts) {\r\n        setProducts(allProducts);\r\n      }\r\n    };\r\n\r\n    const getProductsByCategory = async () => {\r\n      const allProducts = await retrieveProductsByCategory();\r\n      if (allProducts) {\r\n        setProducts(allProducts);\r\n      }\r\n    };\r\n\r\n    if (categoryId == null) {\r\n      console.log(\"Category Id is null\");\r\n      getAllProducts();\r\n    } else {\r\n      console.log(\"Category Id is NOT null\");\r\n      getProductsByCategory();\r\n    }\r\n  }, [categoryId]);\r\n\r\n  const retrieveAllProducts = async () => {\r\n    const response = await axios.get(\"http://localhost:8080/api/product/all\");\r\n\r\n    return response.data;\r\n  };\r\n\r\n  const retrieveProductsByCategory = async () => {\r\n    const response = await axios.get(\r\n      \"http://localhost:8080/api/product/category?categoryId=\" + categoryId\r\n    );\r\n\r\n    return response.data;\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid mb-2\">\r\n      <Carousel />\r\n      <div className=\"mt-2 mb-5\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-2\">\r\n            <GetAllCategories />\r\n          </div>\r\n          <div className=\"col-md-10\">\r\n            <div className=\"row row-cols-1 row-cols-md-4 g-4\">\r\n              \r\n                {products.map((product) => {\r\n                  return <ProductCard item={product} />;\r\n                })}\r\n              </div>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"mappings":"gfAAA,MAAOA,SAAP,KAAqB,YAArB,CACA,MAAOC,iBAAP,KAA6B,sCAA7B,CACA,MAAOC,YAAP,KAAwB,iCAAxB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,SAAT,KAA0B,kBAA1B,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eAEA,eAAuBH,SAAS,EAAhC,CAAQI,UAAR,YAAQA,UAAR,CAEAL,SAAS,CAAC,UAAM,CACd,GAAMM,eAAc,4FAAG,2KACKC,oBAAmB,EADxB,QACfC,WADe,eAErB,GAAIA,WAAJ,CAAiB,CACfJ,WAAW,CAACI,WAAD,CAAX,CACD,CAJoB,sDAAH,kBAAdF,eAAc,0CAApB,CAOA,GAAMG,sBAAqB,6FAAG,iLACFC,2BAA0B,EADxB,QACtBF,WADsB,gBAE5B,GAAIA,WAAJ,CAAiB,CACfJ,WAAW,CAACI,WAAD,CAAX,CACD,CAJ2B,wDAAH,kBAArBC,sBAAqB,2CAA3B,CAOA,GAAIJ,UAAU,EAAI,IAAlB,CAAwB,CACtBM,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACAN,cAAc,GACf,CAHD,IAGO,CACLK,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACAH,qBAAqB,GACtB,CACF,CAtBQ,CAsBN,CAACJ,UAAD,CAtBM,CAAT,CAwBA,GAAME,oBAAmB,6FAAG,8KACHT,MAAK,CAACe,GAAN,CAAU,uCAAV,CADG,QACpBC,QADoB,iDAGnBA,QAAQ,CAACC,IAHU,0DAAH,kBAAnBR,oBAAmB,2CAAzB,CAMA,GAAMG,2BAA0B,6FAAG,8KACVZ,MAAK,CAACe,GAAN,CACrB,yDAA2DR,UADtC,CADU,QAC3BS,QAD2B,iDAK1BA,QAAQ,CAACC,IALiB,0DAAH,kBAA1BL,2BAA0B,2CAAhC,CAQA,mBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,KAAC,QAAD,IADF,cAEE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,gBAAD,IADF,EADF,cAIE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,SAAS,CAAC,kCAAf,UAEKP,QAAQ,CAACa,GAAT,CAAa,SAACC,OAAD,CAAa,CACzB,mBAAO,KAAC,WAAD,EAAa,IAAI,CAAEA,OAAnB,EAAP,CACD,CAFA,CAFL,EADF,EAJF,GADF,EAFF,GADF,CAqBD,CAhED,CAkEA,cAAef,SAAf"},"metadata":{},"sourceType":"module"}