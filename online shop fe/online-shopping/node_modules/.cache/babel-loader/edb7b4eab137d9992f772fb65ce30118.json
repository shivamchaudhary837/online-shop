{"ast":null,"code":"import _defineProperty from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddProductForm=function AddProductForm(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var retrieveAllCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:8080/api/category/all\");case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function retrieveAllCategories(){return _ref.apply(this,arguments);};}();useEffect(function(){var getAllCategories=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var allCategories;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return retrieveAllCategories();case 2:allCategories=_context2.sent;if(allCategories){setCategories(allCategories);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getAllCategories(){return _ref2.apply(this,arguments);};}();getAllCategories();},[]);var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedPhoto=_useState4[0],setSelectedPhoto=_useState4[1];var _useState5=useState({title:\"\",description:\"\",price:\"\",quantity:\"\",categoryId:\"\"}),_useState6=_slicedToArray(_useState5,2),product=_useState6[0],setProduct=_useState6[1];var handleInput=function handleInput(e){setProduct(_objectSpread(_objectSpread({},product),{},_defineProperty({},e.target.name,e.target.value)));};var saveProduct=function saveProduct(){var formData=new FormData();formData.append(\"image\",selectedPhoto);formData.append(\"title\",product.title);formData.append(\"description\",product.description);formData.append(\"price\",product.price);formData.append(\"quantity\",product.quantity);formData.append(\"categoryId\",product.categoryId);axios.post(\"http://localhost:8080/api/product/add\",formData).then(function(resp){var result=resp.data.data;alert(\"Product saved successfully\");}).catch(function(error){console.log(\"Error\",error);alert(\"Error saving product\");});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"mt-2 d-flex aligns-items-center justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card form-card border-color custom-bg\",style:{width:\"25rem\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-color custom-bg-text text-center\",children:/*#__PURE__*/_jsx(\"h5\",{class:\"card-title\",children:\"Add Product\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"card-body text-color\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"title\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Product Title\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"title\",name:\"title\",onChange:handleInput,value:product.title})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"description\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Product Description\"})}),/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control\",id:\"description\",name:\"description\",rows:\"3\",onChange:handleInput,value:product.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Category\"})}),/*#__PURE__*/_jsxs(\"select\",{name:\"categoryId\",onChange:handleInput,className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(function(category){return/*#__PURE__*/_jsxs(\"option\",{value:category.id,children:[\" \",category.title,\" \"]});})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3 mt-1\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"quantity\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Product Quantity\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",class:\"form-control\",id:\"quantity\",name:\"quantity\",onChange:handleInput,value:product.quantity})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"price\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Product Price\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",class:\"form-control\",id:\"price\",name:\"price\",onChange:handleInput,value:product.price})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"formFile\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\" Select Product Image\"})}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"file\",id:\"formFile\",name:\"photo\",value:product.photo,onChange:function onChange(e){return setSelectedPhoto(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn bg-color custom-bg-text\",onClick:saveProduct,children:\"Add Product\"})]})})]})})});};export default AddProductForm;","map":{"version":3,"names":["useState","useEffect","axios","AddProductForm","categories","setCategories","retrieveAllCategories","get","response","data","getAllCategories","allCategories","selectedPhoto","setSelectedPhoto","title","description","price","quantity","categoryId","product","setProduct","handleInput","e","target","name","value","saveProduct","formData","FormData","append","post","then","resp","result","alert","catch","error","console","log","width","map","category","id","photo","files"],"sources":["C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/src/productComponent/AddProductForm.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst AddProductForm = () => {\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const retrieveAllCategories = async () => {\r\n    const response = await axios.get(\"http://localhost:8080/api/category/all\");\r\n    return response.data;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getAllCategories = async () => {\r\n      const allCategories = await retrieveAllCategories();\r\n      if (allCategories) {\r\n        setCategories(allCategories);\r\n      }\r\n    };\r\n\r\n    getAllCategories();\r\n  }, []);\r\n\r\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\r\n  const [product, setProduct] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    quantity: \"\",\r\n    categoryId: \"\",\r\n  });\r\n\r\n  const handleInput = (e) => {\r\n    setProduct({ ...product, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const saveProduct = () => {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", selectedPhoto);\r\n    formData.append(\"title\", product.title);\r\n    formData.append(\"description\", product.description);\r\n    formData.append(\"price\", product.price);\r\n    formData.append(\"quantity\", product.quantity);\r\n    formData.append(\"categoryId\", product.categoryId);\r\n\r\n    axios\r\n      .post(\"http://localhost:8080/api/product/add\", formData)\r\n      .then((resp) => {\r\n        let result = resp.data.data;\r\n        alert(\"Product saved successfully\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error\", error);\r\n        alert(\"Error saving product\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div class=\"mt-2 d-flex aligns-items-center justify-content-center\">\r\n        <div\r\n          class=\"card form-card border-color custom-bg\"\r\n          style={{ width: \"25rem\" }}\r\n        >\r\n          <div className=\"card-header bg-color custom-bg-text text-center\">\r\n            <h5 class=\"card-title\">Add Product</h5>\r\n          </div>\r\n          <div class=\"card-body text-color\">\r\n            <form>\r\n              <div class=\"mb-3\">\r\n                <label for=\"title\" class=\"form-label\">\r\n                  <b>Product Title</b>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"title\"\r\n                  name=\"title\"\r\n                  onChange={handleInput}\r\n                  value={product.title}\r\n                />\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"description\" class=\"form-label\">\r\n                  <b>Product Description</b>\r\n                </label>\r\n                <textarea\r\n                  class=\"form-control\"\r\n                  id=\"description\"\r\n                  name=\"description\"\r\n                  rows=\"3\"\r\n                  onChange={handleInput}\r\n                  value={product.description}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label className=\"form-label\">\r\n                  <b>Category</b>\r\n                </label>\r\n\r\n                <select\r\n                  name=\"categoryId\"\r\n                  onChange={handleInput}\r\n                  className=\"form-control\"\r\n                >\r\n                  <option value=\"\">Select Category</option>\r\n\r\n                  {categories.map((category) => {\r\n                    return (\r\n                      <option value={category.id}> {category.title} </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n              </div>\r\n\r\n              <div class=\"mb-3 mt-1\">\r\n                <label for=\"quantity\" class=\"form-label\">\r\n                  <b>Product Quantity</b>\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  class=\"form-control\"\r\n                  id=\"quantity\"\r\n                  name=\"quantity\"\r\n                  onChange={handleInput}\r\n                  value={product.quantity}\r\n                />\r\n              </div>\r\n\r\n              <div class=\"mb-3\">\r\n                <label for=\"price\" class=\"form-label\">\r\n                  <b>Product Price</b>\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  class=\"form-control\"\r\n                  id=\"price\"\r\n                  name=\"price\"\r\n                  onChange={handleInput}\r\n                  value={product.price}\r\n                />\r\n              </div>\r\n\r\n              <div class=\"mb-3\">\r\n                <label for=\"formFile\" class=\"form-label\">\r\n                  <b> Select Product Image</b>\r\n                </label>\r\n                <input\r\n                  class=\"form-control\"\r\n                  type=\"file\"\r\n                  id=\"formFile\"\r\n                  name=\"photo\"\r\n                  value={product.photo}\r\n                  onChange={(e) => setSelectedPhoto(e.target.files[0])}\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                class=\"btn bg-color custom-bg-text\"\r\n                onClick={saveProduct}\r\n              >\r\n                Add Product\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProductForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}