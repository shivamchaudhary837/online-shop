{"ast":null,"code":"import _defineProperty from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useLocation}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddCardDetails=function AddCardDetails(){var location=useLocation();var navigate=useNavigate();var user=JSON.parse(sessionStorage.getItem(\"active-user\"));var priceToPay=location.state.priceToPay;var _useState=useState({cardName:\"\",cardNumber:\"\",validThrough:\"\",cvv:\"\"}),_useState2=_slicedToArray(_useState,2),card=_useState2[0],setCard=_useState2[1];var handleCardInput=function handleCardInput(e){setCard(_objectSpread(_objectSpread({},card),{},_defineProperty({},e.target.name,e.target.value)));};var payAndOrder=function payAndOrder(){fetch(\"http://localhost:8080/api/user/order?userId=\"+user.id,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}}).then(function(result){console.log(\"result\",result);result.json().then(function(res){console.log(res);});});};var payForOrder=function payForOrder(){payAndOrder();toast.success(\"Products Ordered Sucessfully!!!\",{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});navigate(\"/home\");};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"mt-2 d-flex aligns-items-center justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card form-card border-color\",style:{width:\"25rem\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-color custom-bg-text\",children:/*#__PURE__*/_jsx(\"h5\",{class:\"card-title text-center\",children:\"Payment Details\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"card-body text-color custom-bg\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:payForOrder,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\" Name on Card\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"name\",name:\"cardName\",onChange:handleCardInput,value:card.cardName,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"cardNumber\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\" Card Number\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"cardNumber\",name:\"cardNumber\",onChange:handleCardInput,value:card.cardNumber,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"validThrough\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Valid Through\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"validThrough\",name:\"validThrough\",onChange:handleCardInput,value:card.validThrough,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"cvv\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"CVV\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"cvv\",name:\"cvv\",onChange:handleCardInput,value:card.cvv,required:true})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",class:\"btn custom-bg-text bg-color\",value:\"Pay Rs\"+priceToPay}),/*#__PURE__*/_jsx(ToastContainer,{})]})})]})})});};export default AddCardDetails;","map":{"version":3,"names":["useState","useLocation","useNavigate","ToastContainer","toast","AddCardDetails","location","navigate","user","JSON","parse","sessionStorage","getItem","priceToPay","state","cardName","cardNumber","validThrough","cvv","card","setCard","handleCardInput","e","target","name","value","payAndOrder","fetch","id","method","headers","Accept","then","result","console","log","json","res","payForOrder","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","width"],"sources":["C:/Users/shivamc/Downloads/shopping_website/online shop fe/online-shopping/src/pages/AddCardDetails.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nconst AddCardDetails = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const user = JSON.parse(sessionStorage.getItem(\"active-user\"));\r\n  const priceToPay = location.state.priceToPay;\r\n\r\n  const [card, setCard] = useState({\r\n    cardName: \"\",\r\n    cardNumber: \"\",\r\n    validThrough: \"\",\r\n    cvv: \"\",\r\n  });\r\n\r\n  const handleCardInput = (e) => {\r\n    setCard({ ...card, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const payAndOrder = () => {\r\n    fetch(\"http://localhost:8080/api/user/order?userId=\" + user.id, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((result) => {\r\n      console.log(\"result\", result);\r\n      result.json().then((res) => {\r\n        console.log(res);\r\n\r\n        \r\n      });\r\n    });\r\n  };\r\n\r\n  const payForOrder = () => {\r\n    payAndOrder();\r\n    toast.success(\"Products Ordered Sucessfully!!!\", {\r\n      position: \"top-center\",\r\n      autoClose: 1000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n    navigate(\"/home\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div class=\"mt-2 d-flex aligns-items-center justify-content-center\">\r\n        <div class=\"card form-card border-color\" style={{ width: \"25rem\" }}>\r\n          <div className=\"card-header bg-color custom-bg-text\">\r\n            <h5 class=\"card-title text-center\">Payment Details</h5>\r\n          </div>\r\n          <div class=\"card-body text-color custom-bg\">\r\n            <form onSubmit={payForOrder}>\r\n              <div class=\"mb-3\">\r\n                <label for=\"name\" class=\"form-label\">\r\n                  <b> Name on Card</b>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"name\"\r\n                  name=\"cardName\"\r\n                  onChange={handleCardInput}\r\n                  value={card.cardName}\r\n                  required\r\n                />\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"cardNumber\" class=\"form-label\">\r\n                  <b> Card Number</b>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"cardNumber\"\r\n                  name=\"cardNumber\"\r\n                  onChange={handleCardInput}\r\n                  value={card.cardNumber}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div class=\"mb-3\">\r\n                <label for=\"validThrough\" class=\"form-label\">\r\n                  <b>Valid Through</b>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"validThrough\"\r\n                  name=\"validThrough\"\r\n                  onChange={handleCardInput}\r\n                  value={card.validThrough}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div class=\"mb-3\">\r\n                <label for=\"cvv\" class=\"form-label\">\r\n                  <b>CVV</b>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"cvv\"\r\n                  name=\"cvv\"\r\n                  onChange={handleCardInput}\r\n                  value={card.cvv}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <input\r\n                type=\"submit\"\r\n                class=\"btn custom-bg-text bg-color\"\r\n                value={\"Pay Rs\" + priceToPay}\r\n              />\r\n\r\n              <ToastContainer />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddCardDetails;\r\n"],"mappings":"ieAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,C,wFAEA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3B,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CACA,GAAMM,SAAQ,CAAGL,WAAW,EAA5B,CACA,GAAMM,KAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAX,CAAb,CACA,GAAMC,WAAU,CAAGP,QAAQ,CAACQ,KAAT,CAAeD,UAAlC,CAEA,cAAwBb,QAAQ,CAAC,CAC/Be,QAAQ,CAAE,EADqB,CAE/BC,UAAU,CAAE,EAFmB,CAG/BC,YAAY,CAAE,EAHiB,CAI/BC,GAAG,CAAE,EAJ0B,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAOA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,CAAD,CAAO,CAC7BF,OAAO,gCAAMD,IAAN,wBAAaG,CAAC,CAACC,MAAF,CAASC,IAAtB,CAA6BF,CAAC,CAACC,MAAF,CAASE,KAAtC,GAAP,CACD,CAFD,CAIA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBC,KAAK,CAAC,+CAAiDnB,IAAI,CAACoB,EAAvD,CAA2D,CAC9DC,MAAM,CAAE,MADsD,CAE9DC,OAAO,CAAE,CACPC,MAAM,CAAE,kBADD,CAEP,eAAgB,kBAFT,CAFqD,CAA3D,CAAL,CAMGC,IANH,CAMQ,SAACC,MAAD,CAAY,CAClBC,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBF,MAAtB,EACAA,MAAM,CAACG,IAAP,GAAcJ,IAAd,CAAmB,SAACK,GAAD,CAAS,CAC1BH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EAGD,CAJD,EAKD,CAbD,EAcD,CAfD,CAiBA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBZ,WAAW,GACXtB,KAAK,CAACmC,OAAN,CAAc,iCAAd,CAAiD,CAC/CC,QAAQ,CAAE,YADqC,CAE/CC,SAAS,CAAE,IAFoC,CAG/CC,eAAe,CAAE,KAH8B,CAI/CC,YAAY,CAAE,IAJiC,CAK/CC,YAAY,CAAE,IALiC,CAM/CC,SAAS,CAAE,IANoC,CAO/CC,QAAQ,CAAEC,SAPqC,CAAjD,EASAxC,QAAQ,CAAC,OAAD,CAAR,CACD,CAZD,CAcA,mBACE,kCACE,YAAK,KAAK,CAAC,wDAAX,uBACE,aAAK,KAAK,CAAC,6BAAX,CAAyC,KAAK,CAAE,CAAEyC,KAAK,CAAE,OAAT,CAAhD,wBACE,YAAK,SAAS,CAAC,qCAAf,uBACE,WAAI,KAAK,CAAC,wBAAV,6BADF,EADF,cAIE,YAAK,KAAK,CAAC,gCAAX,uBACE,cAAM,QAAQ,CAAEV,WAAhB,wBACE,aAAK,KAAK,CAAC,MAAX,wBACE,cAAO,GAAG,CAAC,MAAX,CAAkB,KAAK,CAAC,YAAxB,uBACE,oCADF,EADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAC,cAFR,CAGE,EAAE,CAAC,MAHL,CAIE,IAAI,CAAC,UAJP,CAKE,QAAQ,CAAEjB,eALZ,CAME,KAAK,CAAEF,IAAI,CAACJ,QANd,CAOE,QAAQ,KAPV,EAJF,GADF,cAeE,aAAK,KAAK,CAAC,MAAX,wBACE,cAAO,GAAG,CAAC,YAAX,CAAwB,KAAK,CAAC,YAA9B,uBACE,mCADF,EADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAC,cAFR,CAGE,EAAE,CAAC,YAHL,CAIE,IAAI,CAAC,YAJP,CAKE,QAAQ,CAAEM,eALZ,CAME,KAAK,CAAEF,IAAI,CAACH,UANd,CAOE,QAAQ,KAPV,EAJF,GAfF,cA8BE,aAAK,KAAK,CAAC,MAAX,wBACE,cAAO,GAAG,CAAC,cAAX,CAA0B,KAAK,CAAC,YAAhC,uBACE,oCADF,EADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAC,cAFR,CAGE,EAAE,CAAC,cAHL,CAIE,IAAI,CAAC,cAJP,CAKE,QAAQ,CAAEK,eALZ,CAME,KAAK,CAAEF,IAAI,CAACF,YANd,CAOE,QAAQ,KAPV,EAJF,GA9BF,cA6CE,aAAK,KAAK,CAAC,MAAX,wBACE,cAAO,GAAG,CAAC,KAAX,CAAiB,KAAK,CAAC,YAAvB,uBACE,0BADF,EADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAC,cAFR,CAGE,EAAE,CAAC,KAHL,CAIE,IAAI,CAAC,KAJP,CAKE,QAAQ,CAAEI,eALZ,CAME,KAAK,CAAEF,IAAI,CAACD,GANd,CAOE,QAAQ,KAPV,EAJF,GA7CF,cA4DE,cACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,6BAFR,CAGE,KAAK,CAAE,SAAWL,UAHpB,EA5DF,cAkEE,KAAC,cAAD,IAlEF,GADF,EAJF,GADF,EADF,EADF,CAiFD,CAjID,CAmIA,cAAeR,eAAf"},"metadata":{},"sourceType":"module"}