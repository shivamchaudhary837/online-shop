{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shivamc\\\\Downloads\\\\online-shop\\\\online shop fe\\\\online-shopping\\\\src\\\\pages\\\\Product.jsx\",\n    _s = $RefreshSig$();\n\nimport GetAllCategories from \"../productComponent/GetAllCategories\";\nimport CategoryNavigator from \"../productComponent/CategoryNavigator\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport ProductCard from \"../productComponent/ProductCard\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Product = () => {\n  _s();\n\n  const {\n    productId,\n    categoryId\n  } = useParams();\n  let user = JSON.parse(sessionStorage.getItem(\"active-user\"));\n  const [quantity, setQuantity] = useState(\"\");\n  const [products, setProducts] = useState([]);\n  const [product, setProduct] = useState({\n    id: \"\",\n    title: \"\",\n    description: \"\",\n    quantity: \"\",\n    price: \"\",\n    imageName: \"\",\n    category: {\n      id: \"\",\n      title: \"\"\n    }\n  });\n\n  const retrieveProduct = async () => {\n    const response = await axios.get(\"http://localhost:8080/api/product/id?productId=\" + productId);\n    return response.data;\n  };\n\n  useEffect(() => {\n    const getProduct = async () => {\n      const retrievedProduct = await retrieveProduct();\n      setProduct(retrievedProduct);\n    };\n\n    const getProductsByCategory = async () => {\n      const allProducts = await retrieveProductsByCategory();\n\n      if (allProducts) {\n        setProducts(allProducts);\n      }\n    };\n\n    getProduct();\n    getProductsByCategory();\n  }, []);\n\n  const retrieveProductsByCategory = async () => {\n    const response = await axios.get(\"http://localhost:8080/api/product/category?categoryId=\" + categoryId);\n    console.log(response.data);\n    return response.data;\n  };\n\n  const saveProductToCart = userId => {\n    fetch(\"http://localhost:8080/api/user/cart/add\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        quantity: quantity,\n        userId: userId,\n        productId: productId\n      })\n    }).then(result => {\n      console.log(\"result\", result);\n\n      if (result != null) {\n        toast.success(\"Products added to Cart Successfully!!!\", {\n          position: \"top-center\",\n          autoClose: 1000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      } else {\n        toast.success(\"Something went wrong\", {\n          position: \"top-center\",\n          autoClose: 1000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }\n\n      result.json().then(res => {\n        console.log(\"response\", res);\n      });\n    }).then(() => {\n      getProductss();\n    });\n  };\n\n  const addToCart = e => {\n    let value1 = parseInt(quantity);\n    let value2 = parseInt(product.quantity);\n\n    if (value2 === 0) {\n      toast.error(\"Out of Stock!!\", {\n        position: \"top-center\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    } else if (value1 <= 0 || value1 > value2) {\n      toast.error(\"Enter Quantity in range\", {\n        position: \"top-center\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    } else if (user === null) {\n      alert(\"Please login to buy the products!!!\");\n    } else {\n      saveProductToCart(user.id);\n      setQuantity(\"\");\n    }\n\n    e.preventDefault();\n  };\n\n  const getProductss = async () => {\n    const retrievedProduct = await retrieveProduct();\n    setProduct(retrievedProduct);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Product, \"48Hz7Y3gH6XGl+j8fsTiASGZDOU=\", false, function () {\n  return [useParams];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["GetAllCategories","CategoryNavigator","useParams","axios","useEffect","useState","ProductCard","ToastContainer","toast","Product","productId","categoryId","user","JSON","parse","sessionStorage","getItem","quantity","setQuantity","products","setProducts","product","setProduct","id","title","description","price","imageName","category","retrieveProduct","response","get","data","getProduct","retrievedProduct","getProductsByCategory","allProducts","retrieveProductsByCategory","console","log","saveProductToCart","userId","fetch","method","headers","Accept","body","stringify","then","result","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","json","res","getProductss","addToCart","e","value1","parseInt","value2","error","alert","preventDefault"],"sources":["C:/Users/shivamc/Downloads/online-shop/online shop fe/online-shopping/src/pages/Product.jsx"],"sourcesContent":["import GetAllCategories from \"../productComponent/GetAllCategories\";\r\nimport CategoryNavigator from \"../productComponent/CategoryNavigator\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport ProductCard from \"../productComponent/ProductCard\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nconst Product = () => {\r\n  const { productId, categoryId } = useParams();\r\n\r\n  let user = JSON.parse(sessionStorage.getItem(\"active-user\"));\r\n\r\n  const [quantity, setQuantity] = useState(\"\");\r\n  const [products, setProducts] = useState([]);\r\n  const [product, setProduct] = useState({\r\n    id: \"\",\r\n    title: \"\",\r\n    description: \"\",\r\n    quantity: \"\",\r\n    price: \"\",\r\n    imageName: \"\",\r\n    category: { id: \"\", title: \"\" },\r\n  });\r\n\r\n  const retrieveProduct = async () => {\r\n    const response = await axios.get(\r\n      \"http://localhost:8080/api/product/id?productId=\" + productId\r\n    );\r\n    return response.data;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getProduct = async () => {\r\n      const retrievedProduct = await retrieveProduct();\r\n      setProduct(retrievedProduct);\r\n    };\r\n\r\n    const getProductsByCategory = async () => {\r\n      const allProducts = await retrieveProductsByCategory();\r\n      if (allProducts) {\r\n        setProducts(allProducts);\r\n      }\r\n    };\r\n\r\n    getProduct();\r\n    getProductsByCategory();\r\n  }, []);\r\n\r\n  const retrieveProductsByCategory = async () => {\r\n    const response = await axios.get(\r\n      \"http://localhost:8080/api/product/category?categoryId=\" + categoryId\r\n    );\r\n    console.log(response.data);\r\n    return response.data;\r\n  };\r\n\r\n  const saveProductToCart = (userId) => {\r\n    fetch(\"http://localhost:8080/api/user/cart/add\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        quantity: quantity,\r\n        userId: userId,\r\n        productId: productId,\r\n      }),\r\n    })\r\n      .then((result) => {\r\n        console.log(\"result\", result);\r\n        if (result != null) {\r\n          toast.success(\"Products added to Cart Successfully!!!\", {\r\n            position: \"top-center\",\r\n            autoClose: 1000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n        } else {\r\n          toast.success(\"Something went wrong\", {\r\n            position: \"top-center\",\r\n            autoClose: 1000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n        }\r\n        result.json().then((res) => {\r\n          console.log(\"response\", res);\r\n        });\r\n      })\r\n      .then(() => {\r\n        getProductss();\r\n      });\r\n  };\r\n\r\n  const addToCart = (e) => {\r\n    let value1 = parseInt(quantity);\r\n    let value2 = parseInt(product.quantity);\r\n\r\n    if (value2 === 0) {\r\n      toast.error(\"Out of Stock!!\", {\r\n        position: \"top-center\",\r\n        autoClose: 2000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    } else if (value1 <= 0 || value1 > value2) {\r\n      toast.error(\"Enter Quantity in range\", {\r\n        position: \"top-center\",\r\n        autoClose: 2000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    } else if (user === null) {\r\n      alert(\"Please login to buy the products!!!\");\r\n    } else {\r\n      saveProductToCart(user.id);\r\n      setQuantity(\"\");\r\n    }\r\n\r\n    e.preventDefault();\r\n  };\r\n\r\n  const getProductss = async () => {\r\n    const retrievedProduct = await retrieveProduct();\r\n    setProduct(retrievedProduct);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      {/* Rest of the code remains the same */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;"],"mappings":";;;AAAA,OAAOA,gBAAP,MAA6B,sCAA7B;AACA,OAAOC,iBAAP,MAA8B,uCAA9B;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;;;AAEA,MAAMC,OAAO,GAAG,MAAM;EAAA;;EACpB,MAAM;IAAEC,SAAF;IAAaC;EAAb,IAA4BT,SAAS,EAA3C;EAEA,IAAIU,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAX,CAAX;EAEA,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACgB,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC;IACrCkB,EAAE,EAAE,EADiC;IAErCC,KAAK,EAAE,EAF8B;IAGrCC,WAAW,EAAE,EAHwB;IAIrCR,QAAQ,EAAE,EAJ2B;IAKrCS,KAAK,EAAE,EAL8B;IAMrCC,SAAS,EAAE,EAN0B;IAOrCC,QAAQ,EAAE;MAAEL,EAAE,EAAE,EAAN;MAAUC,KAAK,EAAE;IAAjB;EAP2B,CAAD,CAAtC;;EAUA,MAAMK,eAAe,GAAG,YAAY;IAClC,MAAMC,QAAQ,GAAG,MAAM3B,KAAK,CAAC4B,GAAN,CACrB,oDAAoDrB,SAD/B,CAAvB;IAGA,OAAOoB,QAAQ,CAACE,IAAhB;EACD,CALD;;EAOA5B,SAAS,CAAC,MAAM;IACd,MAAM6B,UAAU,GAAG,YAAY;MAC7B,MAAMC,gBAAgB,GAAG,MAAML,eAAe,EAA9C;MACAP,UAAU,CAACY,gBAAD,CAAV;IACD,CAHD;;IAKA,MAAMC,qBAAqB,GAAG,YAAY;MACxC,MAAMC,WAAW,GAAG,MAAMC,0BAA0B,EAApD;;MACA,IAAID,WAAJ,EAAiB;QACfhB,WAAW,CAACgB,WAAD,CAAX;MACD;IACF,CALD;;IAOAH,UAAU;IACVE,qBAAqB;EACtB,CAfQ,EAeN,EAfM,CAAT;;EAiBA,MAAME,0BAA0B,GAAG,YAAY;IAC7C,MAAMP,QAAQ,GAAG,MAAM3B,KAAK,CAAC4B,GAAN,CACrB,2DAA2DpB,UADtC,CAAvB;IAGA2B,OAAO,CAACC,GAAR,CAAYT,QAAQ,CAACE,IAArB;IACA,OAAOF,QAAQ,CAACE,IAAhB;EACD,CAND;;EAQA,MAAMQ,iBAAiB,GAAIC,MAAD,IAAY;IACpCC,KAAK,CAAC,yCAAD,EAA4C;MAC/CC,MAAM,EAAE,MADuC;MAE/CC,OAAO,EAAE;QACPC,MAAM,EAAE,kBADD;QAEP,gBAAgB;MAFT,CAFsC;MAM/CC,IAAI,EAAEjC,IAAI,CAACkC,SAAL,CAAe;QACnB9B,QAAQ,EAAEA,QADS;QAEnBwB,MAAM,EAAEA,MAFW;QAGnB/B,SAAS,EAAEA;MAHQ,CAAf;IANyC,CAA5C,CAAL,CAYGsC,IAZH,CAYSC,MAAD,IAAY;MAChBX,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBU,MAAtB;;MACA,IAAIA,MAAM,IAAI,IAAd,EAAoB;QAClBzC,KAAK,CAAC0C,OAAN,CAAc,wCAAd,EAAwD;UACtDC,QAAQ,EAAE,YAD4C;UAEtDC,SAAS,EAAE,IAF2C;UAGtDC,eAAe,EAAE,KAHqC;UAItDC,YAAY,EAAE,IAJwC;UAKtDC,YAAY,EAAE,IALwC;UAMtDC,SAAS,EAAE,IAN2C;UAOtDC,QAAQ,EAAEC;QAP4C,CAAxD;MASD,CAVD,MAUO;QACLlD,KAAK,CAAC0C,OAAN,CAAc,sBAAd,EAAsC;UACpCC,QAAQ,EAAE,YAD0B;UAEpCC,SAAS,EAAE,IAFyB;UAGpCC,eAAe,EAAE,KAHmB;UAIpCC,YAAY,EAAE,IAJsB;UAKpCC,YAAY,EAAE,IALsB;UAMpCC,SAAS,EAAE,IANyB;UAOpCC,QAAQ,EAAEC;QAP0B,CAAtC;MASD;;MACDT,MAAM,CAACU,IAAP,GAAcX,IAAd,CAAoBY,GAAD,IAAS;QAC1BtB,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBqB,GAAxB;MACD,CAFD;IAGD,CAtCH,EAuCGZ,IAvCH,CAuCQ,MAAM;MACVa,YAAY;IACb,CAzCH;EA0CD,CA3CD;;EA6CA,MAAMC,SAAS,GAAIC,CAAD,IAAO;IACvB,IAAIC,MAAM,GAAGC,QAAQ,CAAChD,QAAD,CAArB;IACA,IAAIiD,MAAM,GAAGD,QAAQ,CAAC5C,OAAO,CAACJ,QAAT,CAArB;;IAEA,IAAIiD,MAAM,KAAK,CAAf,EAAkB;MAChB1D,KAAK,CAAC2D,KAAN,CAAY,gBAAZ,EAA8B;QAC5BhB,QAAQ,EAAE,YADkB;QAE5BC,SAAS,EAAE,IAFiB;QAG5BC,eAAe,EAAE,KAHW;QAI5BC,YAAY,EAAE,IAJc;QAK5BC,YAAY,EAAE,IALc;QAM5BC,SAAS,EAAE,IANiB;QAO5BC,QAAQ,EAAEC;MAPkB,CAA9B;IASD,CAVD,MAUO,IAAIM,MAAM,IAAI,CAAV,IAAeA,MAAM,GAAGE,MAA5B,EAAoC;MACzC1D,KAAK,CAAC2D,KAAN,CAAY,yBAAZ,EAAuC;QACrChB,QAAQ,EAAE,YAD2B;QAErCC,SAAS,EAAE,IAF0B;QAGrCC,eAAe,EAAE,KAHoB;QAIrCC,YAAY,EAAE,IAJuB;QAKrCC,YAAY,EAAE,IALuB;QAMrCC,SAAS,EAAE,IAN0B;QAOrCC,QAAQ,EAAEC;MAP2B,CAAvC;IASD,CAVM,MAUA,IAAI9C,IAAI,KAAK,IAAb,EAAmB;MACxBwD,KAAK,CAAC,qCAAD,CAAL;IACD,CAFM,MAEA;MACL5B,iBAAiB,CAAC5B,IAAI,CAACW,EAAN,CAAjB;MACAL,WAAW,CAAC,EAAD,CAAX;IACD;;IAED6C,CAAC,CAACM,cAAF;EACD,CAhCD;;EAkCA,MAAMR,YAAY,GAAG,YAAY;IAC/B,MAAM3B,gBAAgB,GAAG,MAAML,eAAe,EAA9C;IACAP,UAAU,CAACY,gBAAD,CAAV;EACD,CAHD;;EAKA,oBACE;IAAK,SAAS,EAAC;EAAf;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CA1ID;;GAAMzB,O;UAC8BP,S;;;KAD9BO,O;AA4IN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}